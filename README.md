после ревью изменил код, теперь актуальный код в ветке hw6_correction